# This file represents an attempt at reproducing a commonly observed failure in 
# the generated Tendermint e2e test suite. The failure manifests as an node whose
# AppHash as reported by /status does not agree with the AppHash as reported by the
# block of the same height in the chain.

ipv6 = true
initial_height = 1000
key_type = "secp256k1"
evidence = 1
queue_type = "priority"
TxSize = 20480

[initial_state]
  initial01 = "a"
  initial02 = "b"
  initial03 = "c"

[validators]

[validator_update]
  [validator_update.0]
    validator01 = 47
    validator02 = 93
    validator03 = 79
  [validator_update.1010]
    validator04 = 63

[node]
  [node.validator01]
    mode = "validator"
    database = "badgerdb"
    abci_protocol = "builtin"
    privval_protocol = "file"
    block_sync = "v0"
    mempool_version = "v0"
    persist_interval = 5
    snapshot_interval = 3
  [node.validator02]
    mode = "validator"
    database = "badgerdb"
    abci_protocol = "builtin"
    privval_protocol = "file"
    block_sync = "v0"
    mempool_version = "v1"
    persist_interval = 5
    snapshot_interval = 3
  [node.validator03]
    mode = "validator"
    database = "badgerdb"
    abci_protocol = "builtin"
    privval_protocol = "file"
    block_sync = "v0"
    mempool_version = "v0"
    snapshot_interval = 3
    perturb = ["pause"]
  [node.validator04]
    mode = "validator"
    database = "badgerdb"
    abci_protocol = "builtin"
    privval_protocol = "file"
    start_at = 1005
    block_sync = "v0"
    mempool_version = "v0"
    state_sync = "p2p"
    persist_interval = 5
    retain_blocks = 14
    perturb = ["kill", "kill"]
    use_legacy_p2p = true
